{"ast":null,"code":"import{createSlice,nanoid}from'@reduxjs/toolkit';import{DEFAULT_TXN_DISMISS_MS}from'constants/misc';export var ApplicationModal;(function(ApplicationModal){ApplicationModal[ApplicationModal[\"ADDRESS_CLAIM\"]=0]=\"ADDRESS_CLAIM\";ApplicationModal[ApplicationModal[\"BLOCKED_ACCOUNT\"]=1]=\"BLOCKED_ACCOUNT\";ApplicationModal[ApplicationModal[\"CLAIM_POPUP\"]=2]=\"CLAIM_POPUP\";ApplicationModal[ApplicationModal[\"DELEGATE\"]=3]=\"DELEGATE\";ApplicationModal[ApplicationModal[\"EXECUTE\"]=4]=\"EXECUTE\";ApplicationModal[ApplicationModal[\"FEATURE_FLAGS\"]=5]=\"FEATURE_FLAGS\";ApplicationModal[ApplicationModal[\"FIAT_ONRAMP\"]=6]=\"FIAT_ONRAMP\";ApplicationModal[ApplicationModal[\"MENU\"]=7]=\"MENU\";ApplicationModal[ApplicationModal[\"METAMASK_CONNECTION_ERROR\"]=8]=\"METAMASK_CONNECTION_ERROR\";ApplicationModal[ApplicationModal[\"NETWORK_FILTER\"]=9]=\"NETWORK_FILTER\";ApplicationModal[ApplicationModal[\"NETWORK_SELECTOR\"]=10]=\"NETWORK_SELECTOR\";ApplicationModal[ApplicationModal[\"POOL_OVERVIEW_OPTIONS\"]=11]=\"POOL_OVERVIEW_OPTIONS\";ApplicationModal[ApplicationModal[\"PRIVACY_POLICY\"]=12]=\"PRIVACY_POLICY\";ApplicationModal[ApplicationModal[\"QUEUE\"]=13]=\"QUEUE\";ApplicationModal[ApplicationModal[\"SELF_CLAIM\"]=14]=\"SELF_CLAIM\";ApplicationModal[ApplicationModal[\"SETTINGS\"]=15]=\"SETTINGS\";ApplicationModal[ApplicationModal[\"SHARE\"]=16]=\"SHARE\";ApplicationModal[ApplicationModal[\"TIME_SELECTOR\"]=17]=\"TIME_SELECTOR\";ApplicationModal[ApplicationModal[\"VOTE\"]=18]=\"VOTE\";ApplicationModal[ApplicationModal[\"WALLET\"]=19]=\"WALLET\";ApplicationModal[ApplicationModal[\"WALLET_DROPDOWN\"]=20]=\"WALLET_DROPDOWN\";ApplicationModal[ApplicationModal[\"UNISWAP_NFT_AIRDROP_CLAIM\"]=21]=\"UNISWAP_NFT_AIRDROP_CLAIM\";})(ApplicationModal||(ApplicationModal={}));var initialState={fiatOnramp:{available:false,availabilityChecked:false},chainId:null,openModal:null,popupList:[]};var applicationSlice=createSlice({name:'application',initialState:initialState,reducers:{setFiatOnrampAvailability:function setFiatOnrampAvailability(state,_ref){var available=_ref.payload;state.fiatOnramp={available:available,availabilityChecked:true};},updateChainId:function updateChainId(state,action){var chainId=action.payload.chainId;state.chainId=chainId;},setOpenModal:function setOpenModal(state,action){state.openModal=action.payload;},addPopup:function addPopup(state,_ref2){var _ref2$payload=_ref2.payload,content=_ref2$payload.content,key=_ref2$payload.key,_ref2$payload$removeA=_ref2$payload.removeAfterMs,removeAfterMs=_ref2$payload$removeA===void 0?DEFAULT_TXN_DISMISS_MS:_ref2$payload$removeA;state.popupList=(key?state.popupList.filter(function(popup){return popup.key!==key;}):state.popupList).concat([{key:key||nanoid(),show:true,content:content,removeAfterMs:removeAfterMs}]);},removePopup:function removePopup(state,_ref3){var key=_ref3.payload.key;state.popupList.forEach(function(p){if(p.key===key){p.show=false;}});}}});var _applicationSlice$act=applicationSlice.actions,updateChainId=_applicationSlice$act.updateChainId,setFiatOnrampAvailability=_applicationSlice$act.setFiatOnrampAvailability,setOpenModal=_applicationSlice$act.setOpenModal,addPopup=_applicationSlice$act.addPopup,removePopup=_applicationSlice$act.removePopup;export{updateChainId,setFiatOnrampAvailability,setOpenModal,addPopup,removePopup};export default applicationSlice.reducer;","map":{"version":3,"names":["createSlice","nanoid","DEFAULT_TXN_DISMISS_MS","ApplicationModal","initialState","fiatOnramp","available","availabilityChecked","chainId","openModal","popupList","applicationSlice","name","reducers","setFiatOnrampAvailability","state","payload","updateChainId","action","setOpenModal","addPopup","content","key","removeAfterMs","filter","popup","concat","show","removePopup","forEach","p","actions","reducer"],"sources":["/Users/dotu/repo/interface/src/state/application/reducer.ts"],"sourcesContent":["import { createSlice, nanoid } from '@reduxjs/toolkit'\nimport { DEFAULT_TXN_DISMISS_MS } from 'constants/misc'\n\nimport { SupportedChainId } from '../../constants/chains'\n\nexport type PopupContent =\n  | {\n      txn: {\n        hash: string\n      }\n    }\n  | {\n      failedSwitchNetwork: SupportedChainId\n    }\n\nexport enum ApplicationModal {\n  ADDRESS_CLAIM,\n  BLOCKED_ACCOUNT,\n  CLAIM_POPUP,\n  DELEGATE,\n  EXECUTE,\n  FEATURE_FLAGS,\n  FIAT_ONRAMP,\n  MENU,\n  METAMASK_CONNECTION_ERROR,\n  NETWORK_FILTER,\n  NETWORK_SELECTOR,\n  POOL_OVERVIEW_OPTIONS,\n  PRIVACY_POLICY,\n  QUEUE,\n  SELF_CLAIM,\n  SETTINGS,\n  SHARE,\n  TIME_SELECTOR,\n  VOTE,\n  WALLET,\n  WALLET_DROPDOWN,\n  UNISWAP_NFT_AIRDROP_CLAIM,\n}\n\ntype PopupList = Array<{ key: string; show: boolean; content: PopupContent; removeAfterMs: number | null }>\n\nexport interface ApplicationState {\n  readonly chainId: number | null\n  readonly fiatOnramp: { available: boolean; availabilityChecked: boolean }\n  readonly openModal: ApplicationModal | null\n  readonly popupList: PopupList\n}\n\nconst initialState: ApplicationState = {\n  fiatOnramp: { available: false, availabilityChecked: false },\n  chainId: null,\n  openModal: null,\n  popupList: [],\n}\n\nconst applicationSlice = createSlice({\n  name: 'application',\n  initialState,\n  reducers: {\n    setFiatOnrampAvailability(state, { payload: available }) {\n      state.fiatOnramp = { available, availabilityChecked: true }\n    },\n    updateChainId(state, action) {\n      const { chainId } = action.payload\n      state.chainId = chainId\n    },\n    setOpenModal(state, action) {\n      state.openModal = action.payload\n    },\n    addPopup(state, { payload: { content, key, removeAfterMs = DEFAULT_TXN_DISMISS_MS } }) {\n      state.popupList = (key ? state.popupList.filter((popup) => popup.key !== key) : state.popupList).concat([\n        {\n          key: key || nanoid(),\n          show: true,\n          content,\n          removeAfterMs,\n        },\n      ])\n    },\n    removePopup(state, { payload: { key } }) {\n      state.popupList.forEach((p) => {\n        if (p.key === key) {\n          p.show = false\n        }\n      })\n    },\n  },\n})\n\nexport const { updateChainId, setFiatOnrampAvailability, setOpenModal, addPopup, removePopup } =\n  applicationSlice.actions\nexport default applicationSlice.reducer\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}