{"ast":null,"code":"import _slicedToArray from\"/Users/dotu/repo/interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{Box}from'nft/components/Box';import{Column,Row}from'nft/components/Flex';import{RowsCollpsedIcon,RowsExpandedIcon,VerifiedIcon}from'nft/components/icons';import{bodySmall,subhead}from'nft/css/common.css';import{useSellAsset}from'nft/hooks';import{useEffect,useState}from'react';import{MarketplaceRow}from'./MarketplaceRow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var IconWrap=_styled.div.withConfig({componentId:\"sc-v1bg3f-0\"})([\"position:absolute;left:50%;top:30px;transform:translateX(-50%);width:32px;visibility:\",\";\"],function(_ref){var hovered=_ref.hovered;return hovered?'visible':'hidden';});var StyledImg=_styled.img.withConfig({componentId:\"sc-v1bg3f-1\"})([\"width:32px;height:32px;\"]);/**\n * NFTListRow is the outermost row wrapper for an NFT Listing, which shows either the composite of multiple marketplaces listings\n * or can be expanded to show listings per marketplace\n */export var NFTListRow=function NFTListRow(_ref2){var _asset$collection;var asset=_ref2.asset,globalPriceMethod=_ref2.globalPriceMethod,globalPrice=_ref2.globalPrice,setGlobalPrice=_ref2.setGlobalPrice,selectedMarkets=_ref2.selectedMarkets;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expandMarketplaceRows=_useState2[0],setExpandMarketplaceRows=_useState2[1];var removeAsset=useSellAsset(function(state){return state.removeSellAsset;});var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),localMarkets=_useState4[0],setLocalMarkets=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hovered=_useState6[0],setHovered=_useState6[1];var handleHover=function handleHover(){return setHovered(!hovered);};useEffect(function(){setLocalMarkets(JSON.parse(JSON.stringify(selectedMarkets)));selectedMarkets.length<2&&setExpandMarketplaceRows(false);},[selectedMarkets]);return/*#__PURE__*/_jsxs(Row,{marginY:\"24\",children:[/*#__PURE__*/_jsxs(Row,{flexWrap:\"nowrap\",flex:{sm:'2',md:'1.5'},marginTop:\"0\",marginBottom:\"auto\",minWidth:\"0\",children:[/*#__PURE__*/_jsx(Box,{transition:\"500\",style:{maxWidth:localMarkets.length>1?'28px':'0',opacity:localMarkets.length>1?'1':'0'},cursor:\"pointer\",marginRight:\"8\",onClick:function onClick(){return setExpandMarketplaceRows(!expandMarketplaceRows);},children:expandMarketplaceRows?/*#__PURE__*/_jsx(RowsExpandedIcon,{}):/*#__PURE__*/_jsx(RowsCollpsedIcon,{})}),/*#__PURE__*/_jsxs(Box,{position:\"relative\",cursor:\"pointer\",onMouseEnter:handleHover,onMouseLeave:handleHover,width:\"48\",height:\"48\",marginRight:\"8\",onClick:function onClick(){removeAsset(asset);},children:[/*#__PURE__*/_jsx(IconWrap,{hovered:hovered,children:/*#__PURE__*/_jsx(StyledImg,{src:\"/nft/svgs/minusCircle.svg\",alt:\"Remove item\"})}),/*#__PURE__*/_jsx(Box,{as:\"img\",alt:asset.name,width:\"48\",height:\"48\",borderRadius:\"8\",marginRight:\"8\",transition:\"500\",src:asset.imageUrl||'/nft/svgs/image-placeholder.svg'})]}),/*#__PURE__*/_jsxs(Column,{gap:\"4\",minWidth:\"0\",children:[/*#__PURE__*/_jsx(Box,{paddingRight:\"8\",overflow:\"hidden\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\",className:subhead,children:asset.name?asset.name:\"#\".concat(asset.tokenId)}),/*#__PURE__*/_jsxs(Box,{paddingRight:\"8\",color:\"textSecondary\",overflow:\"hidden\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\",className:bodySmall,children:[(_asset$collection=asset.collection)===null||_asset$collection===void 0?void 0:_asset$collection.name,asset.collectionIsVerified&&/*#__PURE__*/_jsx(VerifiedIcon,{style:{marginBottom:'-5px'}})]})]})]}),/*#__PURE__*/_jsx(Column,{flex:{sm:'1',md:'3'},gap:\"24\",children:expandMarketplaceRows?localMarkets.map(function(market,index){return/*#__PURE__*/_jsx(MarketplaceRow,{globalPriceMethod:globalPriceMethod,globalPrice:globalPrice,setGlobalPrice:setGlobalPrice,selectedMarkets:[market],removeMarket:function removeMarket(){return localMarkets.splice(index,1);},asset:asset,showMarketplaceLogo:true,expandMarketplaceRows:expandMarketplaceRows},index);}):/*#__PURE__*/_jsx(MarketplaceRow,{globalPriceMethod:globalPriceMethod,globalPrice:globalPrice,setGlobalPrice:setGlobalPrice,selectedMarkets:localMarkets,asset:asset,showMarketplaceLogo:false})})]});};","map":{"version":3,"names":["Box","Column","Row","RowsCollpsedIcon","RowsExpandedIcon","VerifiedIcon","bodySmall","subhead","useSellAsset","useEffect","useState","MarketplaceRow","IconWrap","styled","div","hovered","StyledImg","img","NFTListRow","asset","globalPriceMethod","globalPrice","setGlobalPrice","selectedMarkets","expandMarketplaceRows","setExpandMarketplaceRows","removeAsset","state","removeSellAsset","localMarkets","setLocalMarkets","setHovered","handleHover","JSON","parse","stringify","length","sm","md","maxWidth","opacity","name","imageUrl","tokenId","collection","collectionIsVerified","marginBottom","map","market","index","splice"],"sources":["/Users/dotu/repo/interface/src/nft/components/profile/list/NFTListRow.tsx"],"sourcesContent":["import { Box } from 'nft/components/Box'\nimport { Column, Row } from 'nft/components/Flex'\nimport { RowsCollpsedIcon, RowsExpandedIcon, VerifiedIcon } from 'nft/components/icons'\nimport { bodySmall, subhead } from 'nft/css/common.css'\nimport { useSellAsset } from 'nft/hooks'\nimport { ListingMarket, WalletAsset } from 'nft/types'\nimport { Dispatch, useEffect, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nimport { MarketplaceRow } from './MarketplaceRow'\nimport { SetPriceMethod } from './NFTListingsGrid'\n\nconst IconWrap = styled.div<{ hovered: boolean }>`\n  position: absolute;\n  left: 50%;\n  top: 30px;\n  transform: translateX(-50%);\n  width: 32px;\n  visibility: ${({ hovered }) => (hovered ? 'visible' : 'hidden')};\n`\n\nconst StyledImg = styled.img`\n  width: 32px;\n  height: 32px;\n`\n\ninterface NFTListRowProps {\n  asset: WalletAsset\n  globalPriceMethod?: SetPriceMethod\n  setGlobalPrice: Dispatch<number | undefined>\n  globalPrice?: number\n  selectedMarkets: ListingMarket[]\n}\n\n/**\n * NFTListRow is the outermost row wrapper for an NFT Listing, which shows either the composite of multiple marketplaces listings\n * or can be expanded to show listings per marketplace\n */\nexport const NFTListRow = ({\n  asset,\n  globalPriceMethod,\n  globalPrice,\n  setGlobalPrice,\n  selectedMarkets,\n}: NFTListRowProps) => {\n  const [expandMarketplaceRows, setExpandMarketplaceRows] = useState(false)\n  const removeAsset = useSellAsset((state) => state.removeSellAsset)\n  const [localMarkets, setLocalMarkets] = useState([])\n  const [hovered, setHovered] = useState(false)\n  const handleHover = () => setHovered(!hovered)\n\n  useEffect(() => {\n    setLocalMarkets(JSON.parse(JSON.stringify(selectedMarkets)))\n    selectedMarkets.length < 2 && setExpandMarketplaceRows(false)\n  }, [selectedMarkets])\n\n  return (\n    <Row marginY=\"24\">\n      <Row flexWrap=\"nowrap\" flex={{ sm: '2', md: '1.5' }} marginTop=\"0\" marginBottom=\"auto\" minWidth=\"0\">\n        <Box\n          transition=\"500\"\n          style={{\n            maxWidth: localMarkets.length > 1 ? '28px' : '0',\n            opacity: localMarkets.length > 1 ? '1' : '0',\n          }}\n          cursor=\"pointer\"\n          marginRight=\"8\"\n          onClick={() => setExpandMarketplaceRows(!expandMarketplaceRows)}\n        >\n          {expandMarketplaceRows ? <RowsExpandedIcon /> : <RowsCollpsedIcon />}\n        </Box>\n        <Box\n          position=\"relative\"\n          cursor=\"pointer\"\n          onMouseEnter={handleHover}\n          onMouseLeave={handleHover}\n          width=\"48\"\n          height=\"48\"\n          marginRight=\"8\"\n          onClick={() => {\n            removeAsset(asset)\n          }}\n        >\n          <IconWrap hovered={hovered}>\n            <StyledImg src=\"/nft/svgs/minusCircle.svg\" alt=\"Remove item\" />\n          </IconWrap>\n          <Box\n            as=\"img\"\n            alt={asset.name}\n            width=\"48\"\n            height=\"48\"\n            borderRadius=\"8\"\n            marginRight=\"8\"\n            transition=\"500\"\n            src={asset.imageUrl || '/nft/svgs/image-placeholder.svg'}\n          />\n        </Box>\n        <Column gap=\"4\" minWidth=\"0\">\n          <Box paddingRight=\"8\" overflow=\"hidden\" textOverflow=\"ellipsis\" whiteSpace=\"nowrap\" className={subhead}>\n            {asset.name ? asset.name : `#${asset.tokenId}`}\n          </Box>\n          <Box\n            paddingRight=\"8\"\n            color=\"textSecondary\"\n            overflow=\"hidden\"\n            textOverflow=\"ellipsis\"\n            whiteSpace=\"nowrap\"\n            className={bodySmall}\n          >\n            {asset.collection?.name}\n            {asset.collectionIsVerified && <VerifiedIcon style={{ marginBottom: '-5px' }} />}\n          </Box>\n        </Column>\n      </Row>\n      <Column flex={{ sm: '1', md: '3' }} gap=\"24\">\n        {expandMarketplaceRows ? (\n          localMarkets.map((market, index) => {\n            return (\n              <MarketplaceRow\n                globalPriceMethod={globalPriceMethod}\n                globalPrice={globalPrice}\n                setGlobalPrice={setGlobalPrice}\n                selectedMarkets={[market]}\n                removeMarket={() => localMarkets.splice(index, 1)}\n                asset={asset}\n                showMarketplaceLogo={true}\n                key={index}\n                expandMarketplaceRows={expandMarketplaceRows}\n              />\n            )\n          })\n        ) : (\n          <MarketplaceRow\n            globalPriceMethod={globalPriceMethod}\n            globalPrice={globalPrice}\n            setGlobalPrice={setGlobalPrice}\n            selectedMarkets={localMarkets}\n            asset={asset}\n            showMarketplaceLogo={false}\n          />\n        )}\n      </Column>\n    </Row>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}