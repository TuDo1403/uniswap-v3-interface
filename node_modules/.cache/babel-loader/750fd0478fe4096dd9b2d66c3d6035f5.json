{"ast":null,"code":"import _objectSpread from\"/Users/dotu/repo/interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/dotu/repo/interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _defineProperty from\"/Users/dotu/repo/interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _taggedTemplateLiteral from\"/Users/dotu/repo/interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{useTheme as _useTheme}from\"styled-components\";import{css as _css}from\"styled-components\";import _styled from\"styled-components\";var _excluded=[\"header\",\"listNumber\",\"tokenInfo\",\"price\",\"percentChange\",\"tvl\",\"volume\",\"sparkLine\"];var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_HEADER_DESCRIPTIONS;import{Trans}from\"@lingui/react\";import{sendAnalyticsEvent}from'@uniswap/analytics';import{InterfaceEventName}from'@uniswap/analytics-events';import{formatNumber,formatUSDPrice,NumberType}from'@uniswap/conedison/format';import{ParentSize}from'@visx/responsive';import SparklineChart from'components/Charts/SparklineChart';import QueryTokenLogo from'components/Logo/QueryTokenLogo';import{MouseoverTooltip}from'components/Tooltip';import{getChainInfo}from'constants/chainInfo';import{CHAIN_NAME_TO_CHAIN_ID,getTokenDetailsURL}from'graphql/data/util';import{useAtomValue}from'jotai/utils';import{forwardRef}from'react';import{ArrowDown,ArrowUp,Info}from'react-feather';import{Link,useParams}from'react-router-dom';import{ClickableStyle}from'theme';import{LARGE_MEDIA_BREAKPOINT,MAX_WIDTH_MEDIA_BREAKPOINT,MEDIUM_MEDIA_BREAKPOINT,SMALL_MEDIA_BREAKPOINT}from'../constants';import{LoadingBubble}from'../loading';import{filterStringAtom,filterTimeAtom,sortAscendingAtom,sortMethodAtom,TokenSortMethod,useSetSortMethod}from'../state';import{ArrowCell,DeltaText,formatDelta,getDeltaArrow}from'../TokenDetails/PriceChart';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cell=_styled.div.withConfig({componentId:\"sc-1bit9h6-0\"})([\"display:flex;align-items:center;justify-content:center;\"]);var StyledTokenRow=_styled.div.withConfig({componentId:\"sc-1bit9h6-1\"})([\"background-color:transparent;display:grid;font-size:16px;grid-template-columns:1fr 7fr 4fr 4fr 4fr 4fr 5fr;line-height:24px;max-width:\",\";min-width:390px;\",\" padding-left:12px;padding-right:12px;transition:\",\";width:100%;transition-duration:\",\";&:hover{\",\" \",\"}@media only screen and (max-width:\",\"){grid-template-columns:1fr 6.5fr 4.5fr 4.5fr 4.5fr 4.5fr 1.7fr;}@media only screen and (max-width:\",\"){grid-template-columns:1fr 7.5fr 4.5fr 4.5fr 4.5fr 1.7fr;}@media only screen and (max-width:\",\"){grid-template-columns:1fr 10fr 5fr 5fr 1.2fr;}@media only screen and (max-width:\",\"){grid-template-columns:2fr 3fr;min-width:unset;border-bottom:0.5px solid \",\";:last-of-type{border-bottom:none;}}\"],MAX_WIDTH_MEDIA_BREAKPOINT,function(_ref){var first=_ref.first,last=_ref.last;return _css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    height: \",\";\\n    padding-top: \",\";\\n    padding-bottom: \",\";\\n  \"])),first||last?'72px':'64px',first?'8px':'0px',last?'8px':'0px');},function(_ref2){var _ref2$theme$transitio=_ref2.theme.transition,duration=_ref2$theme$transitio.duration,timing=_ref2$theme$transitio.timing;return _css(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"background-color \",\" \",\"\"])),duration.medium,timing.ease);},function(_ref3){var theme=_ref3.theme;return theme.transition.duration.fast;},function(_ref4){var loading=_ref4.loading,theme=_ref4.theme;return!loading&&_css(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n        background-color: \",\";\\n      \"])),theme.hoverDefault);},function(_ref5){var last=_ref5.last;return last&&_css(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n        border-radius: 0px 0px 8px 8px;\\n      \"])));},MAX_WIDTH_MEDIA_BREAKPOINT,LARGE_MEDIA_BREAKPOINT,MEDIUM_MEDIA_BREAKPOINT,SMALL_MEDIA_BREAKPOINT,function(_ref6){var theme=_ref6.theme;return theme.backgroundModule;});var ClickableContent=_styled.div.withConfig({componentId:\"sc-1bit9h6-2\"})([\"display:flex;text-decoration:none;color:\",\";align-items:center;cursor:pointer;\"],function(_ref7){var theme=_ref7.theme;return theme.textPrimary;});var ClickableName=_styled(ClickableContent).withConfig({componentId:\"sc-1bit9h6-3\"})([\"gap:8px;max-width:100%;\"]);var StyledHeaderRow=_styled(StyledTokenRow).withConfig({componentId:\"sc-1bit9h6-4\"})([\"border-bottom:1px solid;border-color:\",\";border-radius:8px 8px 0px 0px;color:\",\";font-size:14px;height:48px;line-height:16px;padding:0px 12px;width:100%;justify-content:center;&:hover{background-color:transparent;}@media only screen and (max-width:\",\"){justify-content:space-between;}\"],function(_ref8){var theme=_ref8.theme;return theme.backgroundOutline;},function(_ref9){var theme=_ref9.theme;return theme.textSecondary;},SMALL_MEDIA_BREAKPOINT);var ListNumberCell=_styled(Cell).withConfig({componentId:\"sc-1bit9h6-5\"})([\"color:\",\";min-width:32px;font-size:14px;@media only screen and (max-width:\",\"){display:none;}\"],function(_ref10){var theme=_ref10.theme;return theme.textSecondary;},SMALL_MEDIA_BREAKPOINT);var DataCell=_styled(Cell).withConfig({componentId:\"sc-1bit9h6-6\"})([\"justify-content:flex-end;min-width:80px;user-select:\",\";transition:\",\";\"],function(_ref11){var sortable=_ref11.sortable;return sortable?'none':'unset';},function(_ref12){var _ref12$theme$transiti=_ref12.theme.transition,duration=_ref12$theme$transiti.duration,timing=_ref12$theme$transiti.timing;return _css(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"background-color \",\" \",\"\"])),duration.medium,timing.ease);});var TvlCell=_styled(DataCell).withConfig({componentId:\"sc-1bit9h6-7\"})([\"padding-right:8px;@media only screen and (max-width:\",\"){display:none;}\"],MEDIUM_MEDIA_BREAKPOINT);var NameCell=_styled(Cell).withConfig({componentId:\"sc-1bit9h6-8\"})([\"justify-content:flex-start;padding:0px 8px;min-width:240px;gap:8px;\"]);var PriceCell=_styled(DataCell).withConfig({componentId:\"sc-1bit9h6-9\"})([\"padding-right:8px;\"]);var PercentChangeCell=_styled(DataCell).withConfig({componentId:\"sc-1bit9h6-10\"})([\"padding-right:8px;@media only screen and (max-width:\",\"){display:none;}\"],SMALL_MEDIA_BREAKPOINT);var PercentChangeInfoCell=_styled(Cell).withConfig({componentId:\"sc-1bit9h6-11\"})([\"display:none;@media only screen and (max-width:\",\"){display:flex;justify-content:flex-end;color:\",\";font-size:12px;line-height:16px;}\"],SMALL_MEDIA_BREAKPOINT,function(_ref13){var theme=_ref13.theme;return theme.textSecondary;});var PriceInfoCell=_styled(Cell).withConfig({componentId:\"sc-1bit9h6-12\"})([\"justify-content:flex-end;flex:1;@media only screen and (max-width:\",\"){flex-direction:column;align-items:flex-end;}\"],SMALL_MEDIA_BREAKPOINT);var HeaderCellWrapper=_styled.span.withConfig({componentId:\"sc-1bit9h6-13\"})([\"align-items:center;cursor:\",\";display:flex;gap:4px;justify-content:flex-end;width:100%;&:hover{\",\"}\"],function(_ref14){var onClick=_ref14.onClick;return onClick?'pointer':'unset';},ClickableStyle);var SparkLineCell=_styled(Cell).withConfig({componentId:\"sc-1bit9h6-14\"})([\"padding:0px 24px;min-width:120px;@media only screen and (max-width:\",\"){display:none;}\"],MAX_WIDTH_MEDIA_BREAKPOINT);var SparkLine=_styled(Cell).withConfig({componentId:\"sc-1bit9h6-15\"})([\"width:124px;height:42px;\"]);var StyledLink=_styled(Link).withConfig({componentId:\"sc-1bit9h6-16\"})([\"text-decoration:none;\"]);var TokenInfoCell=_styled(Cell).withConfig({componentId:\"sc-1bit9h6-17\"})([\"gap:8px;line-height:24px;font-size:16px;max-width:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;@media only screen and (max-width:\",\"){justify-content:flex-start;flex-direction:column;gap:0px;width:max-content;font-weight:500;}\"],SMALL_MEDIA_BREAKPOINT);var TokenName=_styled.div.withConfig({componentId:\"sc-1bit9h6-18\"})([\"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;\"]);var TokenSymbol=_styled(Cell).withConfig({componentId:\"sc-1bit9h6-19\"})([\"color:\",\";text-transform:uppercase;@media only screen and (max-width:\",\"){font-size:12px;height:16px;justify-content:flex-start;width:100%;}\"],function(_ref15){var theme=_ref15.theme;return theme.textTertiary;},SMALL_MEDIA_BREAKPOINT);var VolumeCell=_styled(DataCell).withConfig({componentId:\"sc-1bit9h6-20\"})([\"padding-right:8px;@media only screen and (max-width:\",\"){display:none;}\"],LARGE_MEDIA_BREAKPOINT);var SmallLoadingBubble=_styled(LoadingBubble).withConfig({componentId:\"sc-1bit9h6-21\"})([\"width:25%;\"]);var MediumLoadingBubble=_styled(LoadingBubble).withConfig({componentId:\"sc-1bit9h6-22\"})([\"width:65%;\"]);var LongLoadingBubble=_styled(LoadingBubble).withConfig({componentId:\"sc-1bit9h6-23\"})([\"width:90%;\"]);var IconLoadingBubble=_styled(LoadingBubble).withConfig({componentId:\"sc-1bit9h6-24\"})([\"border-radius:50%;width:24px;\"]);export var SparkLineLoadingBubble=_styled(LongLoadingBubble).withConfig({componentId:\"sc-1bit9h6-25\"})([\"height:4px;\"]);export var L2NetworkLogo=_styled.div.withConfig({componentId:\"sc-1bit9h6-26\"})([\"height:\",\";width:\",\";position:absolute;left:50%;bottom:0;background:url(\",\");background-repeat:no-repeat;background-size:\",\";display:\",\";\"],function(_ref16){var size=_ref16.size;return size!==null&&size!==void 0?size:'12px';},function(_ref17){var size=_ref17.size;return size!==null&&size!==void 0?size:'12px';},function(_ref18){var networkUrl=_ref18.networkUrl;return networkUrl;},function(_ref19){var size=_ref19.size;return size?\"\".concat(size,\" \").concat(size):'12px 12px';},function(_ref20){var networkUrl=_ref20.networkUrl;return!networkUrl&&'none';});export var LogoContainer=_styled.div.withConfig({componentId:\"sc-1bit9h6-27\"})([\"position:relative;align-items:center;display:flex;\"]);var InfoIconContainer=_styled.div.withConfig({componentId:\"sc-1bit9h6-28\"})([\"margin-left:2px;display:flex;align-items:center;cursor:help;\"]);export var HEADER_DESCRIPTIONS=(_HEADER_DESCRIPTIONS={},_defineProperty(_HEADER_DESCRIPTIONS,TokenSortMethod.PRICE,undefined),_defineProperty(_HEADER_DESCRIPTIONS,TokenSortMethod.PERCENT_CHANGE,undefined),_defineProperty(_HEADER_DESCRIPTIONS,TokenSortMethod.TOTAL_VALUE_LOCKED,/*#__PURE__*/_jsx(Trans,{id:\"Total value locked (TVL) is the amount of the asset that\\u2019s currently in a Uniswap v3 liquidity pool.\"})),_defineProperty(_HEADER_DESCRIPTIONS,TokenSortMethod.VOLUME,/*#__PURE__*/_jsx(Trans,{id:\"Volume is the amount of the asset that has been traded on Uniswap v3 during the selected time frame.\"})),_HEADER_DESCRIPTIONS);/* Get singular header cell for header row */function HeaderCell(_ref21){var category=_ref21.category;var theme=_useTheme();var sortAscending=useAtomValue(sortAscendingAtom);var handleSortCategory=useSetSortMethod(category);var sortMethod=useAtomValue(sortMethodAtom);var description=HEADER_DESCRIPTIONS[category];return/*#__PURE__*/_jsxs(HeaderCellWrapper,{onClick:handleSortCategory,children:[sortMethod===category&&/*#__PURE__*/_jsx(_Fragment,{children:sortAscending?/*#__PURE__*/_jsx(ArrowUp,{size:20,strokeWidth:1.8,color:theme.accentActive}):/*#__PURE__*/_jsx(ArrowDown,{size:20,strokeWidth:1.8,color:theme.accentActive})}),category,description&&/*#__PURE__*/_jsx(MouseoverTooltip,{text:description,placement:\"right\",children:/*#__PURE__*/_jsx(InfoIconContainer,{children:/*#__PURE__*/_jsx(Info,{size:14})})})]});}/* Token Row: skeleton row component */function TokenRow(_ref22){var header=_ref22.header,listNumber=_ref22.listNumber,tokenInfo=_ref22.tokenInfo,price=_ref22.price,percentChange=_ref22.percentChange,tvl=_ref22.tvl,volume=_ref22.volume,sparkLine=_ref22.sparkLine,rest=_objectWithoutProperties(_ref22,_excluded);var rowCells=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ListNumberCell,{header:header,children:listNumber}),/*#__PURE__*/_jsx(NameCell,{children:tokenInfo}),/*#__PURE__*/_jsx(PriceCell,{sortable:header,children:price}),/*#__PURE__*/_jsx(PercentChangeCell,{sortable:header,children:percentChange}),/*#__PURE__*/_jsx(TvlCell,{sortable:header,children:tvl}),/*#__PURE__*/_jsx(VolumeCell,{sortable:header,children:volume}),/*#__PURE__*/_jsx(SparkLineCell,{children:sparkLine})]});if(header)return/*#__PURE__*/_jsx(StyledHeaderRow,{children:rowCells});return/*#__PURE__*/_jsx(StyledTokenRow,_objectSpread(_objectSpread({},rest),{},{children:rowCells}));}/* Header Row: top header row component for table */export function HeaderRow(){return/*#__PURE__*/_jsx(TokenRow,{header:true,listNumber:\"#\",tokenInfo:/*#__PURE__*/_jsx(Trans,{id:\"Token name\"}),price:/*#__PURE__*/_jsx(HeaderCell,{category:TokenSortMethod.PRICE}),percentChange:/*#__PURE__*/_jsx(HeaderCell,{category:TokenSortMethod.PERCENT_CHANGE}),tvl:/*#__PURE__*/_jsx(HeaderCell,{category:TokenSortMethod.TOTAL_VALUE_LOCKED}),volume:/*#__PURE__*/_jsx(HeaderCell,{category:TokenSortMethod.VOLUME}),sparkLine:null});}/* Loading State: row component with loading bubbles */export function LoadingRow(props){return/*#__PURE__*/_jsx(TokenRow,_objectSpread({header:false,listNumber:/*#__PURE__*/_jsx(SmallLoadingBubble,{}),loading:true,tokenInfo:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IconLoadingBubble,{}),/*#__PURE__*/_jsx(MediumLoadingBubble,{})]}),price:/*#__PURE__*/_jsx(MediumLoadingBubble,{}),percentChange:/*#__PURE__*/_jsx(LoadingBubble,{}),tvl:/*#__PURE__*/_jsx(LoadingBubble,{}),volume:/*#__PURE__*/_jsx(LoadingBubble,{}),sparkLine:/*#__PURE__*/_jsx(SparkLineLoadingBubble,{})},props));}/* Loaded State: row component with token information */export var LoadedRow=/*#__PURE__*/forwardRef(function(props,ref){var _useParams$chainName$,_useParams$chainName,_getChainInfo,_token$market,_token$market$pricePe,_token$address,_token$market2,_token$market2$price,_token$market3,_token$market3$totalV,_token$market4,_token$market4$volume;var tokenListIndex=props.tokenListIndex,tokenListLength=props.tokenListLength,token=props.token;var tokenAddress=token.address;var tokenName=token.name;var tokenSymbol=token.symbol;var filterString=useAtomValue(filterStringAtom);var sortAscending=useAtomValue(sortAscendingAtom);var lowercaseChainName=(_useParams$chainName$=(_useParams$chainName=useParams().chainName)===null||_useParams$chainName===void 0?void 0:_useParams$chainName.toUpperCase())!==null&&_useParams$chainName$!==void 0?_useParams$chainName$:'ethereum';var filterNetwork=lowercaseChainName.toUpperCase();var chainId=CHAIN_NAME_TO_CHAIN_ID[filterNetwork];var L2Icon=(_getChainInfo=getChainInfo(chainId))===null||_getChainInfo===void 0?void 0:_getChainInfo.circleLogoUrl;var timePeriod=useAtomValue(filterTimeAtom);var delta=(_token$market=token.market)===null||_token$market===void 0?void 0:(_token$market$pricePe=_token$market.pricePercentChange)===null||_token$market$pricePe===void 0?void 0:_token$market$pricePe.value;var arrow=getDeltaArrow(delta);var smallArrow=getDeltaArrow(delta,14);var formattedDelta=formatDelta(delta);var rank=sortAscending?tokenListLength-tokenListIndex:tokenListIndex+1;var exploreTokenSelectedEventProperties={chain_id:chainId,token_address:tokenAddress,token_symbol:tokenSymbol,token_list_index:tokenListIndex,token_list_rank:rank,token_list_length:tokenListLength,time_frame:timePeriod,search_token_address_input:filterString};// TODO: currency logo sizing mobile (32px) vs. desktop (24px)\nreturn/*#__PURE__*/_jsx(\"div\",{ref:ref,\"data-testid\":\"token-table-row-\".concat(tokenName),children:/*#__PURE__*/_jsx(StyledLink,{to:getTokenDetailsURL((_token$address=token.address)!==null&&_token$address!==void 0?_token$address:'',token.chain),onClick:function onClick(){return sendAnalyticsEvent(InterfaceEventName.EXPLORE_TOKEN_ROW_CLICKED,exploreTokenSelectedEventProperties);},children:/*#__PURE__*/_jsx(TokenRow,{header:false,listNumber:rank,tokenInfo:/*#__PURE__*/_jsxs(ClickableName,{children:[/*#__PURE__*/_jsxs(LogoContainer,{children:[/*#__PURE__*/_jsx(QueryTokenLogo,{token:token}),/*#__PURE__*/_jsx(L2NetworkLogo,{networkUrl:L2Icon})]}),/*#__PURE__*/_jsxs(TokenInfoCell,{children:[/*#__PURE__*/_jsx(TokenName,{children:tokenName}),/*#__PURE__*/_jsx(TokenSymbol,{children:tokenSymbol})]})]}),price:/*#__PURE__*/_jsx(ClickableContent,{children:/*#__PURE__*/_jsxs(PriceInfoCell,{children:[formatUSDPrice((_token$market2=token.market)===null||_token$market2===void 0?void 0:(_token$market2$price=_token$market2.price)===null||_token$market2$price===void 0?void 0:_token$market2$price.value),/*#__PURE__*/_jsxs(PercentChangeInfoCell,{children:[/*#__PURE__*/_jsx(ArrowCell,{children:smallArrow}),/*#__PURE__*/_jsx(DeltaText,{delta:delta,children:formattedDelta})]})]})}),percentChange:/*#__PURE__*/_jsxs(ClickableContent,{children:[/*#__PURE__*/_jsx(ArrowCell,{children:arrow}),/*#__PURE__*/_jsx(DeltaText,{delta:delta,children:formattedDelta})]}),tvl:/*#__PURE__*/_jsx(ClickableContent,{children:formatNumber((_token$market3=token.market)===null||_token$market3===void 0?void 0:(_token$market3$totalV=_token$market3.totalValueLocked)===null||_token$market3$totalV===void 0?void 0:_token$market3$totalV.value,NumberType.FiatTokenStats)}),volume:/*#__PURE__*/_jsx(ClickableContent,{children:formatNumber((_token$market4=token.market)===null||_token$market4===void 0?void 0:(_token$market4$volume=_token$market4.volume)===null||_token$market4$volume===void 0?void 0:_token$market4$volume.value,NumberType.FiatTokenStats)}),sparkLine:/*#__PURE__*/_jsx(SparkLine,{children:/*#__PURE__*/_jsx(ParentSize,{children:function children(_ref23){var _token$market5,_token$market5$priceP;var width=_ref23.width,height=_ref23.height;return props.sparklineMap&&/*#__PURE__*/_jsx(SparklineChart,{width:width,height:height,tokenData:token,pricePercentChange:(_token$market5=token.market)===null||_token$market5===void 0?void 0:(_token$market5$priceP=_token$market5.pricePercentChange)===null||_token$market5$priceP===void 0?void 0:_token$market5$priceP.value,sparklineMap:props.sparklineMap});}})}),first:tokenListIndex===0,last:tokenListIndex===tokenListLength-1})})});});LoadedRow.displayName='LoadedRow';","map":{"version":3,"names":["sendAnalyticsEvent","InterfaceEventName","formatNumber","formatUSDPrice","NumberType","ParentSize","SparklineChart","QueryTokenLogo","MouseoverTooltip","getChainInfo","CHAIN_NAME_TO_CHAIN_ID","getTokenDetailsURL","useAtomValue","forwardRef","ArrowDown","ArrowUp","Info","Link","useParams","ClickableStyle","LARGE_MEDIA_BREAKPOINT","MAX_WIDTH_MEDIA_BREAKPOINT","MEDIUM_MEDIA_BREAKPOINT","SMALL_MEDIA_BREAKPOINT","LoadingBubble","filterStringAtom","filterTimeAtom","sortAscendingAtom","sortMethodAtom","TokenSortMethod","useSetSortMethod","ArrowCell","DeltaText","formatDelta","getDeltaArrow","Cell","styled","div","StyledTokenRow","first","last","css","theme","transition","duration","timing","medium","ease","fast","loading","hoverDefault","backgroundModule","ClickableContent","textPrimary","ClickableName","StyledHeaderRow","backgroundOutline","textSecondary","ListNumberCell","DataCell","sortable","TvlCell","NameCell","PriceCell","PercentChangeCell","PercentChangeInfoCell","PriceInfoCell","HeaderCellWrapper","span","onClick","SparkLineCell","SparkLine","StyledLink","TokenInfoCell","TokenName","TokenSymbol","textTertiary","VolumeCell","SmallLoadingBubble","MediumLoadingBubble","LongLoadingBubble","IconLoadingBubble","SparkLineLoadingBubble","L2NetworkLogo","size","networkUrl","LogoContainer","InfoIconContainer","HEADER_DESCRIPTIONS","PRICE","undefined","PERCENT_CHANGE","TOTAL_VALUE_LOCKED","VOLUME","HeaderCell","category","useTheme","sortAscending","handleSortCategory","sortMethod","description","accentActive","TokenRow","header","listNumber","tokenInfo","price","percentChange","tvl","volume","sparkLine","rest","rowCells","HeaderRow","LoadingRow","props","LoadedRow","ref","tokenListIndex","tokenListLength","token","tokenAddress","address","tokenName","name","tokenSymbol","symbol","filterString","lowercaseChainName","chainName","toUpperCase","filterNetwork","chainId","L2Icon","circleLogoUrl","timePeriod","delta","market","pricePercentChange","value","arrow","smallArrow","formattedDelta","rank","exploreTokenSelectedEventProperties","chain_id","token_address","token_symbol","token_list_index","token_list_rank","token_list_length","time_frame","search_token_address_input","chain","EXPLORE_TOKEN_ROW_CLICKED","totalValueLocked","FiatTokenStats","width","height","sparklineMap","displayName"],"sources":["/Users/dotu/repo/interface/src/components/Tokens/TokenTable/TokenRow.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { sendAnalyticsEvent } from '@uniswap/analytics'\nimport { InterfaceEventName } from '@uniswap/analytics-events'\nimport { formatNumber, formatUSDPrice, NumberType } from '@uniswap/conedison/format'\nimport { ParentSize } from '@visx/responsive'\nimport SparklineChart from 'components/Charts/SparklineChart'\nimport QueryTokenLogo from 'components/Logo/QueryTokenLogo'\nimport { MouseoverTooltip } from 'components/Tooltip'\nimport { getChainInfo } from 'constants/chainInfo'\nimport { SparklineMap, TopToken } from 'graphql/data/TopTokens'\nimport { CHAIN_NAME_TO_CHAIN_ID, getTokenDetailsURL } from 'graphql/data/util'\nimport { useAtomValue } from 'jotai/utils'\nimport { ForwardedRef, forwardRef } from 'react'\nimport { CSSProperties, ReactNode } from 'react'\nimport { ArrowDown, ArrowUp, Info } from 'react-feather'\nimport { Link, useParams } from 'react-router-dom'\nimport styled, { css, useTheme } from 'styled-components/macro'\nimport { ClickableStyle } from 'theme'\n\nimport {\n  LARGE_MEDIA_BREAKPOINT,\n  MAX_WIDTH_MEDIA_BREAKPOINT,\n  MEDIUM_MEDIA_BREAKPOINT,\n  SMALL_MEDIA_BREAKPOINT,\n} from '../constants'\nimport { LoadingBubble } from '../loading'\nimport {\n  filterStringAtom,\n  filterTimeAtom,\n  sortAscendingAtom,\n  sortMethodAtom,\n  TokenSortMethod,\n  useSetSortMethod,\n} from '../state'\nimport { ArrowCell, DeltaText, formatDelta, getDeltaArrow } from '../TokenDetails/PriceChart'\n\nconst Cell = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\nconst StyledTokenRow = styled.div<{\n  first?: boolean\n  last?: boolean\n  loading?: boolean\n}>`\n  background-color: transparent;\n  display: grid;\n  font-size: 16px;\n  grid-template-columns: 1fr 7fr 4fr 4fr 4fr 4fr 5fr;\n  line-height: 24px;\n  max-width: ${MAX_WIDTH_MEDIA_BREAKPOINT};\n  min-width: 390px;\n  ${({ first, last }) => css`\n    height: ${first || last ? '72px' : '64px'};\n    padding-top: ${first ? '8px' : '0px'};\n    padding-bottom: ${last ? '8px' : '0px'};\n  `}\n  padding-left: 12px;\n  padding-right: 12px;\n  transition: ${({\n    theme: {\n      transition: { duration, timing },\n    },\n  }) => css`background-color ${duration.medium} ${timing.ease}`};\n  width: 100%;\n  transition-duration: ${({ theme }) => theme.transition.duration.fast};\n\n  &:hover {\n    ${({ loading, theme }) =>\n      !loading &&\n      css`\n        background-color: ${theme.hoverDefault};\n      `}\n    ${({ last }) =>\n      last &&\n      css`\n        border-radius: 0px 0px 8px 8px;\n      `}\n  }\n\n  @media only screen and (max-width: ${MAX_WIDTH_MEDIA_BREAKPOINT}) {\n    grid-template-columns: 1fr 6.5fr 4.5fr 4.5fr 4.5fr 4.5fr 1.7fr;\n  }\n\n  @media only screen and (max-width: ${LARGE_MEDIA_BREAKPOINT}) {\n    grid-template-columns: 1fr 7.5fr 4.5fr 4.5fr 4.5fr 1.7fr;\n  }\n\n  @media only screen and (max-width: ${MEDIUM_MEDIA_BREAKPOINT}) {\n    grid-template-columns: 1fr 10fr 5fr 5fr 1.2fr;\n  }\n\n  @media only screen and (max-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    grid-template-columns: 2fr 3fr;\n    min-width: unset;\n    border-bottom: 0.5px solid ${({ theme }) => theme.backgroundModule};\n\n    :last-of-type {\n      border-bottom: none;\n    }\n  }\n`\n\nconst ClickableContent = styled.div`\n  display: flex;\n  text-decoration: none;\n  color: ${({ theme }) => theme.textPrimary};\n  align-items: center;\n  cursor: pointer;\n`\nconst ClickableName = styled(ClickableContent)`\n  gap: 8px;\n  max-width: 100%;\n`\nconst StyledHeaderRow = styled(StyledTokenRow)`\n  border-bottom: 1px solid;\n  border-color: ${({ theme }) => theme.backgroundOutline};\n  border-radius: 8px 8px 0px 0px;\n  color: ${({ theme }) => theme.textSecondary};\n  font-size: 14px;\n  height: 48px;\n  line-height: 16px;\n  padding: 0px 12px;\n  width: 100%;\n  justify-content: center;\n\n  &:hover {\n    background-color: transparent;\n  }\n\n  @media only screen and (max-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    justify-content: space-between;\n  }\n`\n\nconst ListNumberCell = styled(Cell)<{ header: boolean }>`\n  color: ${({ theme }) => theme.textSecondary};\n  min-width: 32px;\n  font-size: 14px;\n\n  @media only screen and (max-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    display: none;\n  }\n`\nconst DataCell = styled(Cell)<{ sortable: boolean }>`\n  justify-content: flex-end;\n  min-width: 80px;\n  user-select: ${({ sortable }) => (sortable ? 'none' : 'unset')};\n  transition: ${({\n    theme: {\n      transition: { duration, timing },\n    },\n  }) => css`background-color ${duration.medium} ${timing.ease}`};\n`\nconst TvlCell = styled(DataCell)`\n  padding-right: 8px;\n  @media only screen and (max-width: ${MEDIUM_MEDIA_BREAKPOINT}) {\n    display: none;\n  }\n`\nconst NameCell = styled(Cell)`\n  justify-content: flex-start;\n  padding: 0px 8px;\n  min-width: 240px;\n  gap: 8px;\n`\nconst PriceCell = styled(DataCell)`\n  padding-right: 8px;\n`\nconst PercentChangeCell = styled(DataCell)`\n  padding-right: 8px;\n  @media only screen and (max-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    display: none;\n  }\n`\nconst PercentChangeInfoCell = styled(Cell)`\n  display: none;\n\n  @media only screen and (max-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    display: flex;\n    justify-content: flex-end;\n    color: ${({ theme }) => theme.textSecondary};\n    font-size: 12px;\n    line-height: 16px;\n  }\n`\nconst PriceInfoCell = styled(Cell)`\n  justify-content: flex-end;\n  flex: 1;\n\n  @media only screen and (max-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    flex-direction: column;\n    align-items: flex-end;\n  }\n`\n\nconst HeaderCellWrapper = styled.span<{ onClick?: () => void }>`\n  align-items: center;\n  cursor: ${({ onClick }) => (onClick ? 'pointer' : 'unset')};\n  display: flex;\n  gap: 4px;\n  justify-content: flex-end;\n  width: 100%;\n\n  &:hover {\n    ${ClickableStyle}\n  }\n`\nconst SparkLineCell = styled(Cell)`\n  padding: 0px 24px;\n  min-width: 120px;\n\n  @media only screen and (max-width: ${MAX_WIDTH_MEDIA_BREAKPOINT}) {\n    display: none;\n  }\n`\nconst SparkLine = styled(Cell)`\n  width: 124px;\n  height: 42px;\n`\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n`\nconst TokenInfoCell = styled(Cell)`\n  gap: 8px;\n  line-height: 24px;\n  font-size: 16px;\n  max-width: inherit;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  @media only screen and (max-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    justify-content: flex-start;\n    flex-direction: column;\n    gap: 0px;\n    width: max-content;\n    font-weight: 500;\n  }\n`\nconst TokenName = styled.div`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 100%;\n`\nconst TokenSymbol = styled(Cell)`\n  color: ${({ theme }) => theme.textTertiary};\n  text-transform: uppercase;\n\n  @media only screen and (max-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    font-size: 12px;\n    height: 16px;\n    justify-content: flex-start;\n    width: 100%;\n  }\n`\nconst VolumeCell = styled(DataCell)`\n  padding-right: 8px;\n  @media only screen and (max-width: ${LARGE_MEDIA_BREAKPOINT}) {\n    display: none;\n  }\n`\nconst SmallLoadingBubble = styled(LoadingBubble)`\n  width: 25%;\n`\nconst MediumLoadingBubble = styled(LoadingBubble)`\n  width: 65%;\n`\nconst LongLoadingBubble = styled(LoadingBubble)`\n  width: 90%;\n`\nconst IconLoadingBubble = styled(LoadingBubble)`\n  border-radius: 50%;\n  width: 24px;\n`\nexport const SparkLineLoadingBubble = styled(LongLoadingBubble)`\n  height: 4px;\n`\n\nexport const L2NetworkLogo = styled.div<{ networkUrl?: string; size?: string }>`\n  height: ${({ size }) => size ?? '12px'};\n  width: ${({ size }) => size ?? '12px'};\n  position: absolute;\n  left: 50%;\n  bottom: 0;\n  background: url(${({ networkUrl }) => networkUrl});\n  background-repeat: no-repeat;\n  background-size: ${({ size }) => (size ? `${size} ${size}` : '12px 12px')};\n  display: ${({ networkUrl }) => !networkUrl && 'none'};\n`\nexport const LogoContainer = styled.div`\n  position: relative;\n  align-items: center;\n  display: flex;\n`\n\nconst InfoIconContainer = styled.div`\n  margin-left: 2px;\n  display: flex;\n  align-items: center;\n  cursor: help;\n`\n\nexport const HEADER_DESCRIPTIONS: Record<TokenSortMethod, ReactNode | undefined> = {\n  [TokenSortMethod.PRICE]: undefined,\n  [TokenSortMethod.PERCENT_CHANGE]: undefined,\n  [TokenSortMethod.TOTAL_VALUE_LOCKED]: (\n    <Trans>Total value locked (TVL) is the amount of the asset that’s currently in a Uniswap v3 liquidity pool.</Trans>\n  ),\n  [TokenSortMethod.VOLUME]: (\n    <Trans>Volume is the amount of the asset that has been traded on Uniswap v3 during the selected time frame.</Trans>\n  ),\n}\n\n/* Get singular header cell for header row */\nfunction HeaderCell({\n  category,\n}: {\n  category: TokenSortMethod // TODO: change this to make it work for trans\n}) {\n  const theme = useTheme()\n  const sortAscending = useAtomValue(sortAscendingAtom)\n  const handleSortCategory = useSetSortMethod(category)\n  const sortMethod = useAtomValue(sortMethodAtom)\n\n  const description = HEADER_DESCRIPTIONS[category]\n\n  return (\n    <HeaderCellWrapper onClick={handleSortCategory}>\n      {sortMethod === category && (\n        <>\n          {sortAscending ? (\n            <ArrowUp size={20} strokeWidth={1.8} color={theme.accentActive} />\n          ) : (\n            <ArrowDown size={20} strokeWidth={1.8} color={theme.accentActive} />\n          )}\n        </>\n      )}\n      {category}\n      {description && (\n        <MouseoverTooltip text={description} placement=\"right\">\n          <InfoIconContainer>\n            <Info size={14} />\n          </InfoIconContainer>\n        </MouseoverTooltip>\n      )}\n    </HeaderCellWrapper>\n  )\n}\n\n/* Token Row: skeleton row component */\nfunction TokenRow({\n  header,\n  listNumber,\n  tokenInfo,\n  price,\n  percentChange,\n  tvl,\n  volume,\n  sparkLine,\n  ...rest\n}: {\n  first?: boolean\n  header: boolean\n  listNumber: ReactNode\n  loading?: boolean\n  tvl: ReactNode\n  price: ReactNode\n  percentChange: ReactNode\n  sparkLine?: ReactNode\n  tokenInfo: ReactNode\n  volume: ReactNode\n  last?: boolean\n  style?: CSSProperties\n}) {\n  const rowCells = (\n    <>\n      <ListNumberCell header={header}>{listNumber}</ListNumberCell>\n      <NameCell>{tokenInfo}</NameCell>\n      <PriceCell sortable={header}>{price}</PriceCell>\n      <PercentChangeCell sortable={header}>{percentChange}</PercentChangeCell>\n      <TvlCell sortable={header}>{tvl}</TvlCell>\n      <VolumeCell sortable={header}>{volume}</VolumeCell>\n      <SparkLineCell>{sparkLine}</SparkLineCell>\n    </>\n  )\n  if (header) return <StyledHeaderRow>{rowCells}</StyledHeaderRow>\n  return <StyledTokenRow {...rest}>{rowCells}</StyledTokenRow>\n}\n\n/* Header Row: top header row component for table */\nexport function HeaderRow() {\n  return (\n    <TokenRow\n      header={true}\n      listNumber=\"#\"\n      tokenInfo={<Trans>Token name</Trans>}\n      price={<HeaderCell category={TokenSortMethod.PRICE} />}\n      percentChange={<HeaderCell category={TokenSortMethod.PERCENT_CHANGE} />}\n      tvl={<HeaderCell category={TokenSortMethod.TOTAL_VALUE_LOCKED} />}\n      volume={<HeaderCell category={TokenSortMethod.VOLUME} />}\n      sparkLine={null}\n    />\n  )\n}\n\n/* Loading State: row component with loading bubbles */\nexport function LoadingRow(props: { first?: boolean; last?: boolean }) {\n  return (\n    <TokenRow\n      header={false}\n      listNumber={<SmallLoadingBubble />}\n      loading\n      tokenInfo={\n        <>\n          <IconLoadingBubble />\n          <MediumLoadingBubble />\n        </>\n      }\n      price={<MediumLoadingBubble />}\n      percentChange={<LoadingBubble />}\n      tvl={<LoadingBubble />}\n      volume={<LoadingBubble />}\n      sparkLine={<SparkLineLoadingBubble />}\n      {...props}\n    />\n  )\n}\n\ninterface LoadedRowProps {\n  tokenListIndex: number\n  tokenListLength: number\n  token: NonNullable<TopToken>\n  sparklineMap: SparklineMap\n}\n\n/* Loaded State: row component with token information */\nexport const LoadedRow = forwardRef((props: LoadedRowProps, ref: ForwardedRef<HTMLDivElement>) => {\n  const { tokenListIndex, tokenListLength, token } = props\n  const tokenAddress = token.address\n  const tokenName = token.name\n  const tokenSymbol = token.symbol\n  const filterString = useAtomValue(filterStringAtom)\n  const sortAscending = useAtomValue(sortAscendingAtom)\n\n  const lowercaseChainName = useParams<{ chainName?: string }>().chainName?.toUpperCase() ?? 'ethereum'\n  const filterNetwork = lowercaseChainName.toUpperCase()\n  const chainId = CHAIN_NAME_TO_CHAIN_ID[filterNetwork]\n  const L2Icon = getChainInfo(chainId)?.circleLogoUrl\n  const timePeriod = useAtomValue(filterTimeAtom)\n  const delta = token.market?.pricePercentChange?.value\n  const arrow = getDeltaArrow(delta)\n  const smallArrow = getDeltaArrow(delta, 14)\n  const formattedDelta = formatDelta(delta)\n  const rank = sortAscending ? tokenListLength - tokenListIndex : tokenListIndex + 1\n\n  const exploreTokenSelectedEventProperties = {\n    chain_id: chainId,\n    token_address: tokenAddress,\n    token_symbol: tokenSymbol,\n    token_list_index: tokenListIndex,\n    token_list_rank: rank,\n    token_list_length: tokenListLength,\n    time_frame: timePeriod,\n    search_token_address_input: filterString,\n  }\n\n  // TODO: currency logo sizing mobile (32px) vs. desktop (24px)\n  return (\n    <div ref={ref} data-testid={`token-table-row-${tokenName}`}>\n      <StyledLink\n        to={getTokenDetailsURL(token.address ?? '', token.chain)}\n        onClick={() =>\n          sendAnalyticsEvent(InterfaceEventName.EXPLORE_TOKEN_ROW_CLICKED, exploreTokenSelectedEventProperties)\n        }\n      >\n        <TokenRow\n          header={false}\n          listNumber={rank}\n          tokenInfo={\n            <ClickableName>\n              <LogoContainer>\n                <QueryTokenLogo token={token} />\n                <L2NetworkLogo networkUrl={L2Icon} />\n              </LogoContainer>\n              <TokenInfoCell>\n                <TokenName>{tokenName}</TokenName>\n                <TokenSymbol>{tokenSymbol}</TokenSymbol>\n              </TokenInfoCell>\n            </ClickableName>\n          }\n          price={\n            <ClickableContent>\n              <PriceInfoCell>\n                {formatUSDPrice(token.market?.price?.value)}\n                <PercentChangeInfoCell>\n                  <ArrowCell>{smallArrow}</ArrowCell>\n                  <DeltaText delta={delta}>{formattedDelta}</DeltaText>\n                </PercentChangeInfoCell>\n              </PriceInfoCell>\n            </ClickableContent>\n          }\n          percentChange={\n            <ClickableContent>\n              <ArrowCell>{arrow}</ArrowCell>\n              <DeltaText delta={delta}>{formattedDelta}</DeltaText>\n            </ClickableContent>\n          }\n          tvl={\n            <ClickableContent>\n              {formatNumber(token.market?.totalValueLocked?.value, NumberType.FiatTokenStats)}\n            </ClickableContent>\n          }\n          volume={\n            <ClickableContent>{formatNumber(token.market?.volume?.value, NumberType.FiatTokenStats)}</ClickableContent>\n          }\n          sparkLine={\n            <SparkLine>\n              <ParentSize>\n                {({ width, height }) =>\n                  props.sparklineMap && (\n                    <SparklineChart\n                      width={width}\n                      height={height}\n                      tokenData={token}\n                      pricePercentChange={token.market?.pricePercentChange?.value}\n                      sparklineMap={props.sparklineMap}\n                    />\n                  )\n                }\n              </ParentSize>\n            </SparkLine>\n          }\n          first={tokenListIndex === 0}\n          last={tokenListIndex === tokenListLength - 1}\n        />\n      </StyledLink>\n    </div>\n  )\n})\n\nLoadedRow.displayName = 'LoadedRow'\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}